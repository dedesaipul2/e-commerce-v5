<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Statistik Penjualan Modern</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    :root {
      --bg-light: #ffffff;
      --bg-dark: rgba(25, 25, 25, 0.9);
      --card-light: rgba(255, 255, 255, 0.7);
      --card-dark: rgba(40, 40, 40, 0.6);
      --text-light: #333;
      --text-dark: #e0e0e0;
      --accent: #a8d5ba;
      --header-light: #444;
      --header-dark: #ddd;
    }

    body {
      margin: 0;
      font-family: "Poppins", "Segoe UI", sans-serif;
      background: var(--bg-light);
      color: var(--text-light);
      transition: all 0.4s ease;
      padding: 20px;
    }

    body.dark {
      background: var(--bg-dark);
      color: var(--text-dark);
    }

    /* Header */
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 25px;
    }

    h1 {
      margin: 0;
      font-size: 1.8rem;
      font-weight: 600;
      color: var(--header-light);
      transition: color 0.3s ease;
    }

    body.dark h1 {
      color: var(--header-dark);
    }

    /* Tombol Mode Gelap */
    .dark-mode-toggle {
      padding: 10px 16px;
      border: none;
      border-radius: 30px;
      background: var(--accent);
      color: #222;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .dark-mode-toggle:hover {
      background: #94c9a8;
      transform: scale(1.05);
    }

    /* Grid Chart */
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
    }

    .card {
      background: var(--card-light);
      border-radius: 16px;
      padding: 15px;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
      text-align: center;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }

    body.dark .card {
      background: var(--card-dark);
    }

    h3 {
      margin-bottom: 8px;
      font-size: 1.05rem;
      font-weight: 500;
      color: var(--header-light);
      transition: color 0.3s ease;
    }

    body.dark h3 {
      color: var(--header-dark);
    }

    canvas {
      width: 100%;
      max-height: 250px;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>📊 Statistik Penjualan</h1>
    <button class="dark-mode-toggle">🌙</button>
  </div>

  <div class="grid">
    <div class="card"><h3>🛒 Penjualan Bulanan</h3><canvas id="chart1"></canvas></div>
    <div class="card"><h3>📦 Kategori Produk</h3><canvas id="chart2"></canvas></div>
    <div class="card"><h3>💰 Pendapatan Harian</h3><canvas id="chart3"></canvas></div>
    <div class="card"><h3>↩️ Persentase Retur</h3><canvas id="chart4"></canvas></div>
    <div class="card"><h3>👥 Pelanggan Baru vs Lama</h3><canvas id="chart5"></canvas></div>
    <div class="card"><h3>⭐ Rating Produk</h3><canvas id="chart6"></canvas></div>
    <div class="card"><h3>🌐 Traffic Website</h3><canvas id="chart7"></canvas></div>
  </div>

  <script>
    const bulan = ["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"];
    const colors = ["#ff6384","#36a2eb","#ffcd56","#4bc0c0","#9966ff","#ff9f40","#a8d5ba"];

    function chartTextColor() {
      return document.body.classList.contains("dark") ? "#e0e0e0" : "#333";
    }

    function createGradient(ctx, color) {
      const gradient = ctx.createLinearGradient(0, 0, 0, 300);
      gradient.addColorStop(0, color + "cc");
      gradient.addColorStop(1, color + "22");
      return gradient;
    }

    function commonOptions() {
      return {
        plugins: { legend: { labels: { color: chartTextColor() } } },
        scales: {
          x: { ticks: { color: chartTextColor() }, grid: { color: "rgba(200,200,200,0.1)" } },
          y: { ticks: { color: chartTextColor() }, grid: { color: "rgba(200,200,200,0.1)" } }
        }
      };
    }

    // Chart Instances
    const ctx1 = document.getElementById("chart1").getContext("2d");
    new Chart(ctx1, {
      type: "bar",
      data: { labels: bulan, datasets: [{ label: "Unit 🛒", data: [120,150,180,100,200,250,220,300,280,350,400,380], backgroundColor: createGradient(ctx1,"#36a2eb") }] },
      options: commonOptions()
    });

    const ctx2 = document.getElementById("chart2").getContext("2d");
    new Chart(ctx2, {
      type: "pie",
      data: { labels: ["Elektronik ⚡","Fashion 👗","Makanan 🍔","Lainnya 📦"], datasets: [{ data: [300,200,150,100], backgroundColor: colors }] },
      options: commonOptions()
    });

    const ctx3 = document.getElementById("chart3").getContext("2d");
    new Chart(ctx3, {
      type: "line",
      data: { labels: ["Sen","Sel","Rab","Kam","Jum","Sab","Min"], datasets: [{ label: "Pendapatan 💵", data: [2,3,2.5,4,3.5,5,4.5], borderColor: "#ffcd56", backgroundColor: createGradient(ctx3,"#ffcd56"), fill: true, tension: 0.4 }]},
      options: commonOptions()
    });

    const ctx4 = document.getElementById("chart4").getContext("2d");
    new Chart(ctx4, {
      type: "doughnut",
      data: { labels: ["Retur 🔄","Tidak Retur ✅"], datasets: [{ data: [50,450], backgroundColor: ["#ff6384","#36a2eb"] }]},
      options: commonOptions()
    });

    const ctx5 = document.getElementById("chart5").getContext("2d");
    new Chart(ctx5, {
      type: "radar",
      data: { labels: ["Jan","Feb","Mar","Apr","Mei","Jun"], datasets: [
        { label: "Baru 🆕", data: [20,25,30,22,35,40], borderColor: "#36a2eb", backgroundColor: "rgba(54,162,235,0.3)" },
        { label: "Lama 🧑‍🤝‍🧑", data: [40,35,30,28,25,20], borderColor: "#ff6384", backgroundColor: "rgba(255,99,132,0.3)" }
      ]},
      options: commonOptions()
    });

    const ctx6 = document.getElementById("chart6").getContext("2d");
    new Chart(ctx6, {
      type: "polarArea",
      data: { labels: ["⭐1","⭐2","⭐3","⭐4","⭐5"], datasets: [{ data: [10,20,30,50,90], backgroundColor: colors }]},
      options: commonOptions()
    });

    const ctx7 = document.getElementById("chart7").getContext("2d");
    new Chart(ctx7, {
      type: "line",
      data: { labels: ["Sen","Sel","Rab","Kam","Jum","Sab","Min"], datasets: [
        { label: "Desktop 🖥️", data: [120,150,170,200,220,250,270], borderColor: "#36a2eb", backgroundColor: createGradient(ctx7,"#36a2eb"), fill:true, tension:0.4 },
        { label: "Mobile 📱", data: [80,100,130,160,180,200,230], borderColor: "#ff6384", backgroundColor: createGradient(ctx7,"#ff6384"), fill:true, tension:0.4 }
      ]},
      options: commonOptions()
    });

    // Toggle Mode Gelap
    document.querySelector(".dark-mode-toggle").addEventListener("click", () => {
      document.body.classList.toggle("dark");
      Chart.helpers.each(Chart.instances, function(chart) {
        chart.options = commonOptions();
        chart.update();
      });
    });
  </script>
</body>
</html>